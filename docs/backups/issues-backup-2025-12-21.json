[{"body":"Goal: Document the visual regression workflow for developers and CI operators.\n\nAcceptance criteria:\n- Add docs in `docs/` describing: how to generate baselines, how to review diffs, how CI baseline job works.\n- Add a troubleshooting section: common failures, artifact locations, how to update baselines.\n- Add a short playbook for handling a failing PR (download artifact, inspect diff, update baseline if accepted).\n\nNotes: Useful for onboarding and operational robustness.","number":114,"state":"OPEN","title":"VR6: Documentation & runbook for visual regression workflow"},{"body":"Goal: Add unit/integration tests to validate comparator behavior and ensure artifacts are collected when there is a mismatch.\n\nAcceptance criteria:\n- Add unit tests for any comparator utilities (e.g., pixelmatch usage) to ensure expected diff thresholds work.\n- Add an integration test that simulates a visual mismatch (TEST_SIMULATE_SNAPSHOT_MISMATCH=1) and asserts artifacts are collected and uploaded.\n- Ensure artifacts include metadata.json and diff images.\n\nNotes: This locks in expected artifact collection semantics for CI.","number":113,"state":"OPEN","title":"VR5: Add automated snapshot comparator tests and failure artifact collection"},{"body":"Goal: Update CI workflow to generate baselines for a baseline branch and run comparisons on PRs.\n\nAcceptance criteria:\n- Add a `baseline` job that runs `test:e2e:update` and uploads `ui/e2e/tests/baselines` as an artifact.\n- Update PR job to download baselines artifact and run `test:e2e` to compare against baselines.\n- On mismatch, upload diff artifacts (screenshots, html report, metadata) for diagnosis.\n\nNotes: Must ensure artifact upload/download works across GitHub Actions and uses consistent paths.","number":112,"state":"OPEN","title":"VR4: CI: Add visual regression baseline job + PR comparison job"},{"body":"Goal: Add a convenient script to generate/update visual baselines and store them under `ui/e2e/tests/baselines` or a CI artifact.\n\nAcceptance criteria:\n- Add `npm --workspace=ui run test:e2e:update` which runs Playwright with `--update-snapshots` inside Docker.\n- Ensure script writes baselines to a predictable location (repo baselines dir) and artifacts are preserved.\n- Add documentation and example run command.\n\nNotes: This is used by the baseline job in CI and by developers locally to capture approved baselines.","number":111,"state":"OPEN","title":"VR3: Add baseline generation & update script (playwright:update-snapshots)"},{"body":"Goal: Add visual snapshot tests using Playwright (`expect(...).toHaveScreenshot`) for core components (AutoFlowButton, Example).\n\nAcceptance criteria:\n- Add `AutoFlowButton.spec.ts` uses `expect(locator).toHaveScreenshot({ name: 'autoflow-default.png' })`.\n- Tests pass locally in Docker when baselines are present.\n- Document how snapshots are stored and updated.\n\nNotes: Will require test updates and possibly to run `--update-snapshots` once to generate baselines.","number":110,"state":"OPEN","title":"VR2: Add Playwright visual snapshot tests for key components"},{"body":"Goal: Define the visual regression approach for Storybook + Playwright.\n\nAcceptance criteria:\n- Document format for baselines and thresholds (pixel diff %, or Playwright snapshot approach).\n- Decide storage location for baselines (repo folder vs CI artifact store).\n- Describe CI flow: baseline generation job, PR comparison job, artifact upload behavior on failures.\n- List required tool changes (Playwright flags, snapshot update scripts, artifact capture).\n\nNotes: Start here so implementation tasks have clear contracts.","number":109,"state":"OPEN","title":"VR1: Design visual regression plan — spec & acceptance criteria"},{"body":"When attempting to install Storybook and related devDependencies in `ui`, npm failed due to missing package versions (example: `axe-core@^5.0.0` not found).\n\nSteps executed:\n- Added `@storybook/react-vite@^10.1.10`, `@storybook/addon-essentials@^10.1.10`, `@storybook/addon-mcp@^0.1.6`, `@storybook/mcp@^0.1.1` to `ui/package.json` (PR https://github.com/mei-the-dev/singularity/pull/106)\n- Ran `npm --workspace=ui install` → failure: `No matching version found for axe-core@^5.0.0` (npm log: /home/mei/.npm/_logs/...) \n\nSuggested next steps:\n- Pin `axe-core` to latest available compatible version (check `npm view axe-core versions`) or remove nonexistent version constraints.\n- Consider using a known-good registry or lockfile from a reference environment.\n- Optionally, run `npm install` in CI with `--registry` override or use a yarn pnpm lockfile.\n\nThis blocks Epic: Storybook Addons & MCP Integration (#95).","number":107,"state":"OPEN","title":"blocker: Storybook/MCP install failing due to registry version conflicts"},{"body":"Component: **Molecules/IssueDetailModal**\nComponent ID: molecules-issuedetailmodal\nStories found: Docs, Default\n\nChecklist:\n- [ ] Confirm stories render correctly in Storybook iframe\n- [ ] Add Playwright visual snapshot for primary story (Default)\n- [ ] Add Playwright interaction E2E for modal interactions\n- [ ] Ensure `tags: ['autodocs']` present and docs accurate\n- [ ] Open PR with story/test and link to Epic: Storybook Inventory & Component Manifest (#94)\n\nParent: #94","number":105,"state":"OPEN","title":"task(ui): verify Storybook story & add Playwright tests — Molecules/IssueDetailModal"},{"body":"Component: **Molecules/IssueCard**\nComponent ID: molecules-issuecard\nStories found: Docs, Default, Interactive\n\nChecklist:\n- [ ] Confirm stories render correctly in Storybook iframe\n- [ ] Add Playwright visual snapshot for primary story (Default)\n- [ ] Add Playwright interaction E2E for interactive behaviors\n- [ ] Ensure `tags: ['autodocs']` present and docs accurate\n- [ ] Open PR with story/test and link to Epic: Storybook Inventory & Component Manifest (#94)\n\nParent: #94","number":104,"state":"OPEN","title":"task(ui): verify Storybook story & add Playwright tests — Molecules/IssueCard"},{"body":"Component: **Board/BlackholeBoard**\nComponent ID: board-blackholeboard\nStories found: Docs, Default\n\nChecklist:\n- [ ] Confirm stories render correctly in Storybook iframe\n- [ ] Add Playwright visual snapshot for primary story (Default)\n- [ ] Add Playwright interaction E2E for board interactions (DnD)\n- [ ] Ensure `tags: ['autodocs']` present and docs accurate\n- [ ] Open PR with story/test and link to Epic: Storybook Inventory & Component Manifest (#94)\n\nParent: #94","number":103,"state":"OPEN","title":"task(ui): verify Storybook story & add Playwright tests — Board/BlackholeBoard"}]